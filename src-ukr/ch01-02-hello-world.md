## Hello, World!

Після встановлення Rust напишемо першу програму цією мовою. Давно стало традицією при вивченні нової мови програмування писати маленьку програму, що виводить на екран текст `Hello, world!`, і ми не будемо відступати від цієї традиції.

> Примітка: ця книжка передбачає базове знайомство із командним рядком. Rust як така не висуває особливих вимог до редакторів, інструментів і розміщення коду, тому якщо вам зручніше використовувати інтегрований середовище розробки (IDE) замість командного рядка, можете користуватися вашим улюбленим IDE. Багато сучасних IDE певною мірою підтримують Rust; зверніться до документації IDE, щоб дізнатися більше. Останнім часом команда Rust зосередилася на підтримці IDE, і є значний поступ в цьому питанні.

### Створення теки проєкту

Для початку, створіть теку для розміщення вашого коду на Rust. Для Rust немає значення, де розміщено ваш код, але для вправ і проєктів у цій книжці ми рекомендуємо зробити теку *projects* у вашій домашній теці і тримати всі проєкти там.

Запустіть термінал і введіть такі команди, щоб створити теку *projects* та теку для проєкту “Hello, world!” з цього розділу:

У Linux, macOS та PowerShell на Windows, введіть це:

```console
$ mkdir ~/projects
$ cd ~/projects
$ mkdir hello_world
$ cd hello_world
```

Для cmd.exe в Windows, введіть це:

```cmd
> mkdir "%USERPROFILE%\projects"
> cd /d "%USERPROFILE%\projects"
> mkdir hello_world
> cd hello_world
```

### Написання і запуск програми на Rust

Тепер створіть новий сирцевий файл і назвіть його *main.rs*. Файли на Rust завжди закінчуються розширенням *.rs*. Якщо у назві файлу використовується більш ніж одне слово, для розділення використовується підкреслення. Наприклад, можна назвати файл *hello_world.rs*, але не *helloworld.rs*.

Тепер відкрийте файл *main.rs*, який ви щойно створили, і наберіть код з Роздруку 1-1:

<span class="filename">Файл: main.rs</span>

```rust
fn main() {
    println!("Hello, world!");
}
```

<span class="caption">Роздрук 1-1: програма, що виводить `Hello, world!`</span>

Збережіть цей файл і поверніться до вікна терміналу. На Linux або macOs наберіть такі команди, щоб скомпілювати так виконати файл:

```console
$ rustc main.rs
$ ./main
Hello, world!
```

У Windows запустіть `.\main.exe` замість `./main`:

```powershell
> rustc main.rs
> .\main.exe
Hello, world!
```

Незалежно від вашої операційної системи, у терміналі буде виведено рядок `Hello, world!`. Якщо вона не вивелася, зверністься до підрозділу [“Вирішення проблем”][troubleshooting]<!-- ignore --> розділу Встановлення, щоб дізнатися, як отримати допомогу.

Якщо ви побачили `Hello, world!` - вітаємо! Ви щойно написали програму на Rust і офіційно стали програмістом на Rust! Ласкаво просимо до спільноти!

### Анатомія програми Rust

Тепер давайте детально пройдемося по тому, що щойно сталося у вашій програмі "Hello, world!". Ось перший шматок пазла:

```rust
fn main() {

}
```

Ці рядки на Rust визначають функцію. Функція `main` особлива: це перше, що запускається у кожній виконанній програмі на Rust. Перший рядок проголошує функцію з назовою `main` без параметрів і яка нічого не повертає. Якби були параметри, їхні імена треба було розмістити між дужками `()`.

Також зверніть увагу, що тіло функції взято у фігурні дужки `{}`. Rust вимагає таких дужок навколо тіл усіх функцій. Вважається хорошим стилем розміщувати відкриваючу дужку на тому ж рядку, що й проголошення функції, з відступом в один пробіл.

Якщо ви бажаєте використовувати стандартний стиль у проєктах на Rust, можете скористатися інстумент для автоматичного форматування, що зветься `rustfmt`, для форматування коду в цьому стилі. Команда Rust додала цей інструмент до стандартного набору програм Rust, на кшталт `rustc`, тобто він уже має бути встановленим на вашому комп'ютері! Зверніться до документації на офіційному сайті, щоб дізнатися більше.

Всередині функції `main` знаходиться такий код:

```rust
    println!("Hello, world!");
```

Цей рядок виконує всю роботу в цій маленькій програмі: виводить текст на екран. Тут треба зазначити чотири важливі деталі.

По-перше, у Rust прийнято робити відступи в чотири пробіли, а не табуляцію.

По-друге, `println!` - це виклик макросу. Якби ми викликали функцію, то це виглядало б як `println` (без `!`). Макроси в Rust детальніше обговорюються в Розділі 19, а поки що достатньо знати, що коли ви бачите `!`, це означає, що викликається макрос, а не звичайна функція.

По-третє, ви бачите стрічку "Hello, world!". Ми передаємо цю стрічку аргументом до `println!`, який виводить стрічку на екран.

По-четверте, рядок завершується крапкою із комою (`;`). Це означає, що цей вираз завершено, і можна починати наступний. Більшість рядків в коді на Rust завершується крапкою із комою.

### Компіляція і запуск - окремі кроки

Ви щойно запустили новостворену програму. Дослідимо кожен крок у цьому процесі.

Перед запуском програми Rust необхідно її скомпілювати за допомогою компілятора Rust, набравши команду rustc і передавши їй ім'я сирцевого файлу, отак:

```console
$ rustc main.rs
```

Якщо ви маєте досвід роботи з C чи C++, ви можете помітити, що це схоже на `gcc` чи `clang`. Після вдалої компіляції Rust створює двійковий виконанний файл.

На Linux, macOs чи PowerShell на Windows, можна побачити цей файл, ввівши команду `ls` у командній оболонці. На Linux і macOs ви побачите два файли. У PowerShell на Windows, ви побачите ті ж три файли, що й за допомогою CMD.

```text
$ ls
main  main.rs
```

У CMD на Windows ви побачите таке:

```cmd
> dir r /B %= опція /B означає показиувати лише імена файлів =%
main.exe
main.pdb
main.rs
```

Ми бачимо сирцевий файл з розширенням *.rs*, виконанний файл (*main.exe* на Windows, *main* в інших системах) і, на Windows, файл із інформацією для зневадження з розширенням *.pdb*. Тепер можна запустити *main* чи *main.exe*, ось так:

```console
$ ./main  # чи .\main.exe у Windows
```

Якщо *main.rs* - це ваша програма "Hello, world!", вона виведе повідомлення `Hello, world!` у вашому терміналі.

Якщо ви переходите з інтерпретованої мови на кшталт Ruby, Python чи JavaScript, вам може бути незвичним, що компіляція і виконання програми - окремі кроки. Rust є *завчасно компільованою* мовою, тобто ви можете скомпілювати програму, передати її комусь іншому, і він зможе запустити її навіть якщо у нього не встановлено Rust. Якщо ви передаєте комусь файл *.rb*, *.py* чи *.js*, йому, натомість, буде потрібна встановлена реалізація мови Ruby, Python чи Javascript відповідно, але вам потрібна тільки одна команда щоб скомпілювати та запустити вашу програму. Всі переваги мови програмування мають свою ціну.

Проста компіляція за допомогою `rustc` годиться для простеньких програм, але зі зростанням вашого проєкту, вам захочеться мати можливість керувати всіма параметрами і легко ділитися кодом. Наступний крок - інструмент, що зветься Cargo, який допоможе вам писати програми на Rust для реального світу.

[troubleshooting]: ch01-01-installation.html#troubleshooting